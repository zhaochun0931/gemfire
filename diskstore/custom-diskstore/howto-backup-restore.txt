docker compose up





âœ…

docker exec -it gf-locator1 gfsh

connect

list members



âœ…

list disk-stores

create disk-store --dir=./myds1 --name=myds1

create disk-store --dir=./myds2 --name=myds2 --max-oplog-size=100

create region --name=exampleRegion1 --type=REPLICATE_PERSISTENT --disk-store=myds1

create region --name=exampleRegion2 --type=REPLICATE_PERSISTENT --disk-store=myds2




list disk-stores


gfsh>list disk-stores
Member Name |             Member Id              | Disk Store Name | Disk Store ID
----------- | ---------------------------------- | --------------- | ------------------------------------
gf-server1  | gf-server1(gf-server1:1)<v1>:43973 | myds1           | 5ad87478-4cbe-4ad6-9686-94ae9e03726a
gf-server1  | gf-server1(gf-server1:1)<v1>:43973 | myds2           | 944fe659-61e8-4a0a-913c-4630cb993709
gf-server2  | gf-server2(gf-server2:1)<v1>:44169 | myds1           | 7dbc521c-a949-4415-b97d-6a9953c75489
gf-server2  | gf-server2(gf-server2:1)<v1>:44169 | myds2           | 21618b51-7fef-4b42-b635-67d7ff2b85c3

gfsh>







âœ…


gf-server1
â”œâ”€â”€ Accepted-terms-on-2025-11-30T04:41:54+00:00
â”œâ”€â”€ gf-server1
â”œâ”€â”€ gf-server1.log
â”œâ”€â”€ myds1
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1_1.crf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1_1.drf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1.if
â”‚Â Â  â””â”€â”€ DRLK_IFmyds1.lk
â”œâ”€â”€ myds2
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2_1.crf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2_1.drf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2.if
â”‚Â Â  â””â”€â”€ DRLK_IFmyds2.lk
â””â”€â”€ vf.gf.server.pid
gf-server2
â”œâ”€â”€ Accepted-terms-on-2025-11-30T04:41:54+00:00
â”œâ”€â”€ gf-server2
â”œâ”€â”€ gf-server2.log
â”œâ”€â”€ myds1
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1_1.crf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1_1.drf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1.if
â”‚Â Â  â””â”€â”€ DRLK_IFmyds1.lk
â”œâ”€â”€ myds2
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2_1.crf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2_1.drf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2.if
â”‚Â Â  â””â”€â”€ DRLK_IFmyds2.lk
â””â”€â”€ vf.gf.server.pid
gf-server3
â”œâ”€â”€ Accepted-terms-on-2025-11-30T04:41:54+00:00
â”œâ”€â”€ gf-server3
â”œâ”€â”€ gf-server3.log
â”œâ”€â”€ myds1
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1_1.crf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1_1.drf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1.if
â”‚Â Â  â””â”€â”€ DRLK_IFmyds1.lk
â”œâ”€â”€ myds2
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2_1.crf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2_1.drf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2.if
â”‚Â Â  â””â”€â”€ DRLK_IFmyds2.lk
â””â”€â”€ vf.gf.server.pid






âœ…


put --key=key1 --value=a1 --region=/exampleRegion1
put --key=key2 --value=a2 --region=/exampleRegion1
put --key=key3 --value=a3 --region=/exampleRegion1


put --key=key1 --value=b1 --region=/exampleRegion2
put --key=key2 --value=b2 --region=/exampleRegion2
put --key=key3 --value=b3 --region=/exampleRegion2




query --query='select * from /exampleRegion1'

query --query='select * from /exampleRegion2'









âœ…

backup disk-store --dir=./mybackup



gf-server1/
â”œâ”€â”€ Accepted-terms-on-2025-11-30T04:41:54+00:00
â”œâ”€â”€ gf-server1
â”œâ”€â”€ gf-server1.log
â”œâ”€â”€ mybackup
â”‚Â Â  â””â”€â”€ 2025-11-30-04-48-03
â”‚Â Â      â””â”€â”€ gf_server1_gf_server1_1_v1_41000
â”‚Â Â          â”œâ”€â”€ config
â”‚Â Â          â”œâ”€â”€ diskstores
â”‚Â Â          â”‚Â Â  â”œâ”€â”€ myds1_ec0e8a3ea3b5480e-bfbe41f6e2b7f4c0
â”‚Â Â          â”‚Â Â  â”‚Â Â  â””â”€â”€ dir0
â”‚Â Â          â”‚Â Â  â”‚Â Â      â”œâ”€â”€ BACKUPmyds1_1.crf
â”‚Â Â          â”‚Â Â  â”‚Â Â      â”œâ”€â”€ BACKUPmyds1_1.drf
â”‚Â Â          â”‚Â Â  â”‚Â Â      â”œâ”€â”€ BACKUPmyds1_1.krf
â”‚Â Â          â”‚Â Â  â”‚Â Â      â””â”€â”€ BACKUPmyds1.if
â”‚Â Â          â”‚Â Â  â””â”€â”€ myds2_a61f1514230848da-99146f8c4b02cb59
â”‚Â Â          â”‚Â Â      â””â”€â”€ dir0
â”‚Â Â          â”‚Â Â          â”œâ”€â”€ BACKUPmyds2_1.crf
â”‚Â Â          â”‚Â Â          â”œâ”€â”€ BACKUPmyds2_1.drf
â”‚Â Â          â”‚Â Â          â”œâ”€â”€ BACKUPmyds2_1.krf
â”‚Â Â          â”‚Â Â          â””â”€â”€ BACKUPmyds2.if
â”‚Â Â          â”œâ”€â”€ README_FILE.txt
â”‚Â Â          â”œâ”€â”€ restore.sh
â”‚Â Â          â””â”€â”€ user
â”œâ”€â”€ myds1
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1_1.crf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1_1.drf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1_1.krf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1_2.crf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1_2.drf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds1.if
â”‚Â Â  â””â”€â”€ DRLK_IFmyds1.lk
â”œâ”€â”€ myds2
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2_1.crf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2_1.drf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2_1.krf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2_2.crf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2_2.drf
â”‚Â Â  â”œâ”€â”€ BACKUPmyds2.if
â”‚Â Â  â””â”€â”€ DRLK_IFmyds2.lk
â””â”€â”€ vf.gf.server.pid






âœ…

destroy region --name=/exampleRegion1
destroy region --name=/exampleRegion2















docker compose down -v











ðŸ”¥ copy all the files in the dir0 to the current working directory of each cache server 
ðŸ”¥ remove vf.gf.server.pid file

docker compose up



ðŸ”¥ create the region first otherwise the data is not restored

create region --name=exampleRegion1 --type=REPLICATE_PERSISTENT --disk-store=myds1
create region --name=exampleRegion2 --type=REPLICATE_PERSISTENT --disk-store=myds2

